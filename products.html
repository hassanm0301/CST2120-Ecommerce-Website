<!DOCTYPE html>
<html lang="En">
  <head>
    <title>Store</title>
    <meta charset="UTF-8" />
    <link type="text/css" rel="stylesheet" href="../css/styles.css" />
    <script
      src="https://kit.fontawesome.com/c8e4d183c2.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar">
      <!-- The navigation bar containing links used on all pages -->
      <a href="index.html" class="logo">Cyber Shop</a>
      <ul class="menu">
        <li><a href="index.html">Home</a></li>
        <li><a class="active" href="#">Store</a></li>
        <li><a href="cart.html">Cart</a></li>
        <li><a href="login.html">My Account</a></li>
      </ul>
      <div class="navbaricons">
        <div class="search">
          <input type="text" class="search-box" placeholder="Search laptop" />
          <a href="#"><i class="fas fa-search"></i></a>
        </div>
        <a href="#" class="cart"><i class="fas fa-shopping-cart"></i></a>
        <a href="#" class="user"><i class="far fa-user-circle"></i></a>
      </div>
    </nav>

    <div id="products"></div>

    <footer>
      <div class="footer-content">
        <!-- the website's footer containing important information -->
        <a href="#" class="logo">Cyber Shop</a>
      </div>
      <span class="copyright"
        >@ Copyright 2022 - Cyber Shop - All rights reserved</span
      >
    </footer>

    <script>
      //Download products when page loads
      window.onload = loadProducts;

      //Downloads JSON description of products from server
      function loadProducts() {
        //Create request object
        let request = new XMLHttpRequest();

        //Create event handler that specifies what should happen when server responds
        request.onload = () => {
          //Check HTTP status code
          if (request.status === 200) {
            //Add data from server to page
            // displayProducts(request.responseText);
            console.log(request.responseText);
          } else alert("Error communicating with server: " + request.status);
        };

        //Set up request and send it
        request.open("GET", "products.php");
        request.send();
      }

      //Loads products into page
      // function displayProducts(jsonProducts) {
      //   //Convert JSON to array of product objects
      //   let prodArray = JSON.parse(jsonProducts);

      //   //Create HTML table containing product data
      //   let htmlStr = "<table>";
      //   for (let i = 0; i < prodArray.length; ++i) {
      //     htmlStr += "<tr>";
      //     htmlStr += "<td>" + prodArray[i].name + "</td>";

      //     htmlStr += "</tr>";
      //   }
      //   //Finish off table and add to document
      //   htmlStr += "</table>";
      //   document.getElementById("products").innerHTML = htmlStr;
      // }
    </script>
  </body>
</html>
